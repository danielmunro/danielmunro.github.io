<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<title>Foreshadow, Another Echo Of Spectre</title>
	
	<meta name="description" content="A new trio of exploits in the same family as Spectre were confirmed by Intel on August 14th.">
	<meta name="image" content="https://danmunro.com/images/foreshadow.svg">
	
	<meta itemprop="name" content="Foreshadow, Another Echo Of Spectre">
	<meta itemprop="description" content="A new trio of exploits in the same family as Spectre were confirmed by Intel on August 14th.">
	<meta itemprop="image" content="https://danmunro.com/images/foreshadow.svg">
	
	<meta name="og:title" content="Foreshadow, Another Echo Of Spectre">
	<meta name="og:description" content="A new trio of exploits in the same family as Spectre were confirmed by Intel on August 14th.">
	<meta name="og:image" content="/https://danmunro.com/images/foreshadow.svg">
	<meta name="og:url" content="/posts/foreshadow-another-echo-of-spectre/">
	<meta name="og:site_name" content="Foreshadow, Another Echo Of Spectre">
	<meta name="og:type" content="article">
	
	<meta name="article:tag" content="">
	<link rel="stylesheet" type="text/css" href="/css/style.css">
	
	
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-123776938-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</head>

<body>

<header>
	
	<a href="/" style="float: left;color:#ff3b30;">Dan Munro - Software Engineer</a>
	
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	
	<a href="/posts/index.xml" style="color:#777;float: right;"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a>
</header>


<div class="content">
  <h1>Foreshadow, Another Echo Of Spectre</h1>
  <aside></aside>
  <p><!-- raw HTML omitted -->
<p>A new duo of exploits collectively called <a href="https://foreshadowattack.eu/">Foreshadow-NG</a> were <a href="https://www.intel.com/content/www/us/en/security-center/advisory/intel-sa-00161.html">confirmed by Intel on August 14th</a>. In the same family as <a href="https://meltdownattack.com/">Spectre</a> and related to an exploit <a href="https://foreshadowattack.eu/foreshadow.pdf">previously reported in January 2018</a>, this new generation allows unauthorized access to the L1 data cache layer inside a processor core. The L1 data cache layer is considered privileged and contains information about the operating system, drivers, userland applications, virtualized resources, and other information stored in the processor core. All an attacker needs is the ability to run code (without root privileges).</p>
<h2 id="privilege-escalation-via-key-siphoning">Privilege Escalation Via Key Siphoning</h2>
<p>One particularly concerning bit of privileged information that can be accessed with these attacks is a cryptographic key called an attestation key. This key is used when generating signatures for Intel&rsquo;s Secure Guard Extensions (SGX) integrity checks. With a valid attestation key, an attacker can generate SGX signatures that appear valid, but in fact are not. It gets better (read: worse), as due to the difficulty in knowing the source of a signed attestation key, a compromise of one key in an ecosystem will in turn potentially allow the compromise of multiple machines. Read more <a href="https://appleinsider.com/articles/18/08/14/foreshadow-intel-processor-attack-bypasses-protections-for-secure-data-held-on-chip">here</a>.</p>
<p>While the attack itself is fairly technical and requires some conditions to be met in order to execute, the impact on information confidentiality and the lack of required authentication make this a more noteworthy and concerning exploit. An excellent write up with more links can be found at <a href="https://www.cvedetails.com/cve/CVE-2018-3615/">CVE Details</a>.</p>
<h2 id="speculative-execution">Speculative Execution</h2>
<p>Speculative execution is a strategy modern processors use as a means of optimizing performance in a multi-core environment. By performing calculations in advance of possible usage on underutilized cores, the processor better parallelizes the work it has to do, even if some of that work doesn&rsquo;t get used. This calculated information is then stored in L1 cache, in case it is needed. Breaking isolation allows an attacker to access this stored cache.</p>
<h2 id="a-fix-is-out-but-dont-think-its-over">A Fix Is Out, But Don&rsquo;t Think It&rsquo;s Over</h2>
<p>Intel has released updates to affected processors and is working with vendors to get the fixes deployed. However, due to the complicated nature of speculative execution and modern processor design, don&rsquo;t expect this to be the last echo of Spectre.</p>
</p>
</div>


  <p>Written on Aug 29, 2018.</p>


<footer>
</footer>
</body>
</html>
